from typing import Any
from .Options import *
from .Enums import Locations, Items

default_options: dict[str, Any] = {
    "closed_forest":            ClosedForest.option_on,
    "kakariko_gate":            KakarikoGate.option_closed,
    "door_of_time":             DoorOfTime.option_closed,
    "zoras_fountain":           ZorasFountain.option_closed,
    "sleeping_waterfall":       SleepingWaterfall.option_closed,
    "jabu_jabu":                JabuJabu.option_closed,
    "lock_overworld_doors":     Toggle.option_false,
    "fortress_carpenters":      FortressCarpenters.option_normal,
    "rainbow_bridge":           RainbowBridge.option_vanilla,
    "skip_ganons_trials":       SkipGanonsTrials.option_true,
    "shuffle_songs":            ShuffleSongs.option_song_locations,
    "shuffle_dungeon_rewards":  ShuffleDungeonRewards.option_dungeons,
    "maps_and_compasses":       MapsAndCompasses.option_own_dungeon,
    "ganons_castle_boss_key":   GanonsCastleBossKey.option_vanilla,
    "big_poe_target_count":     10,
    "skip_child_zelda":         Toggle.option_false,
    "skip_epona_race":          Toggle.option_false,
    "complete_mask_quest":      Toggle.option_false,
    "skip_scarecrows_song":     Toggle.option_false,
    "full_wallets":             Toggle.option_false,
    "bombchu_bag":              BombchuBag.option_none,
    "blue_fire_arrows":         Toggle.option_false,
    "sunlight_arrows":          Toggle.option_false,
    "starting_age":             StartingAge.option_child,
    "start_with_kokiri_sword":  Toggle.option_false,
}

beginner_options = {
    "kakariko_gate":                                    KakarikoGate.option_open,
    "door_of_time":                                     DoorOfTime.option_open,
    "zoras_fountain":                                   ZorasFountain.option_closed_as_child,
    "fortress_carpenters":                              FortressCarpenters.option_fast,
    "rainbow_bridge":                                   RainbowBridge.option_greg,
    "skip_ganons_trials":                               SkipGanonsTrials.option_true,
    "shuffle_tycoon_wallet":                            ShuffleTycoonWallet.option_true,
    "shuffle_ocarinas":                                 ShuffleOcarinas.option_true,
    "shuffle_dungeon_rewards":                          ShuffleDungeonRewards.option_dungeons,
    "maps_and_compasses":                               MapsAndCompasses.option_start_with,
    "ganons_castle_boss_key":                           GanonsCastleBossKey.option_lacs_dungeon_rewards,
    "ganons_castle_boss_key_dungeon_rewards_required":  6,
    "big_poe_target_count":                             1,
    "skip_child_zelda":                                 SkipChildZelda.option_true,
    "skip_epona_race":                                  SkipEponaRace.option_true,
    "complete_mask_quest":                              CompleteMaskQuest.option_true,
    "skip_scarecrows_song":                             SkipScarecrowsSong.option_true,
    "full_wallets":                                     FullWallets.option_true,
    "blue_fire_arrows":                                 BlueFireArrows.option_true,
    "sunlight_arrows":                                  SunlightArrows.option_true,
    "infinite_upgrades":                                InfiniteUpgrades.option_off,
    "skeleton_key":                                     SkeletonKey.option_false,
    "start_inventory_from_pool":                        {Items.PROGRESSIVE_OCARINA: 1},
    "start_with_kokiri_sword":                          Toggle.option_true,
    "exclude_locations":                                [Locations.GF_HBA_1500_POINTS, Locations.KAK_40_GOLD_SKULLTULA_REWARD, Locations.KAK_50_GOLD_SKULLTULA_REWARD, Locations.ZR_FROGS_OCARINA_GAME]
}

standard_options = {
    "kakariko_gate":                                    KakarikoGate.option_open,
    "door_of_time":                                     DoorOfTime.option_open,
    "zoras_fountain":                                   ZorasFountain.option_closed_as_child,
    "fortress_carpenters":                              FortressCarpenters.option_fast,
    "rainbow_bridge":                                   RainbowBridge.option_greg,
    "skip_ganons_trials":                               SkipGanonsTrials.option_true,
    "shuffle_songs":                                    ShuffleSongs.option_dungeon_rewards,
    "shuffle_skull_tokens":                             ShuffleTokens.option_all,
    "shuffle_kokiri_sword":                             ShuffleKokiriSword.option_true,
    "shuffle_tycoon_wallet":                            ShuffleTycoonWallet.option_true,
    "shuffle_ocarinas":                                 ShuffleOcarinas.option_true,
    "shuffle_gerudo_membership_card":                   ShuffleGerudoMembershipCard.option_true,
    "shuffle_shops":                                    ShuffleShops.option_true,
    "shuffle_shops_item_amount":                        4,
    "shuffle_shops_minimum_price":                      0,
    "shuffle_shops_maximum_price":                      300,
    "shuffle_scrubs":                                   ShuffleScrubs.option_all,
    "shuffle_scrubs_minimum_price":                     10,
    "shuffle_scrubs_maximum_price":                     10,
    "shuffle_merchants":                                ShuffleMerchants.option_bean_merchant_only,
    "shuffle_dungeon_rewards":                          ShuffleDungeonRewards.option_dungeons,
    "maps_and_compasses":                               MapsAndCompasses.option_start_with,
    "ganons_castle_boss_key":                           GanonsCastleBossKey.option_lacs_dungeon_rewards,
    "ganons_castle_boss_key_dungeon_rewards_required":  7,
    "key_rings":                                        KeyRings.option_count,
    "key_rings_count":                                  8,
    "big_poe_target_count":                             1,
    "skip_child_zelda":                                 SkipChildZelda.option_true,
    "skip_epona_race":                                  SkipEponaRace.option_true,
    "complete_mask_quest":                              CompleteMaskQuest.option_true,
    "skip_scarecrows_song":                             SkipScarecrowsSong.option_true,
    "full_wallets":                                     FullWallets.option_true,
    "bombchu_bag":                                      BombchuBag.option_single_bag,
    "blue_fire_arrows":                                 BlueFireArrows.option_true,
    "sunlight_arrows":                                  SunlightArrows.option_true,
    "small_key_shuffle":                                SmallKeyShuffle.option_anywhere,
    "start_inventory_from_pool":                        {Items.PROGRESSIVE_OCARINA: 1}
}

# Missing ER
advanced_options = {
    "kakariko_gate":                                    KakarikoGate.option_open,
    "door_of_time":                                     DoorOfTime.option_open,
    "fortress_carpenters":                              FortressCarpenters.option_fast,
    "rainbow_bridge":                                   RainbowBridge.option_greg,
    "skip_ganons_trials":                               SkipGanonsTrials.option_true,
    "shuffle_songs":                                    ShuffleSongs.option_dungeon_rewards,
    "shuffle_skull_tokens":                             ShuffleTokens.option_all,
    "shuffle_kokiri_sword":                             ShuffleKokiriSword.option_true,
    "shuffle_master_sword":                             ShuffleMasterSword.option_true,
    "shuffle_tycoon_wallet":                            ShuffleTycoonWallet.option_true,
    "shuffle_ocarinas":                                 ShuffleOcarinas.option_true,
    "shuffle_swim":                                     ShuffleSwim.option_true,
    "shuffle_gerudo_membership_card":                   ShuffleGerudoMembershipCard.option_true,
    "shuffle_deku_stick_bag":                           ShuffleDekuStickBag.option_true,
    "shuffle_deku_nut_bag":                             ShuffleDekuNutBag.option_true,
    "shuffle_shops":                                    ShuffleShops.option_true,
    "shuffle_shops_item_amount":                        7,
    "shuffle_shops_minimum_price":                      0,
    "shuffle_shops_maximum_price":                      300,
    "shuffle_scrubs":                                   ShuffleScrubs.option_all,
    "shuffle_scrubs_minimum_price":                     10,
    "shuffle_scrubs_maximum_price":                     10,
    "shuffle_cows":                                     ShuffleCows.option_true,
    "shuffle_merchants":                                ShuffleMerchants.option_all,
    "shuffle_frog_song_rupees":                         ShuffleFrogSongRupees.option_true,
    "shuffle_adult_trade_items":                        ShuffleAdultTradeItems.option_true,
    "shuffle_dungeon_rewards":                          ShuffleDungeonRewards.option_dungeons,
    "maps_and_compasses":                               MapsAndCompasses.option_start_with,
    "ganons_castle_boss_key":                           GanonsCastleBossKey.option_lacs_dungeon_rewards,
    "ganons_castle_boss_key_dungeon_rewards_required":  8,
    "key_rings":                                        KeyRings.option_count,
    "key_rings_count":                                  4,
    "big_poe_target_count":                             1,
    "skip_child_zelda":                                 SkipChildZelda.option_true,
    "skip_epona_race":                                  SkipEponaRace.option_true,
    "complete_mask_quest":                              CompleteMaskQuest.option_true,
    "skip_scarecrows_song":                             SkipScarecrowsSong.option_true,
    "full_wallets":                                     FullWallets.option_true,
    "bombchu_bag":                                      BombchuBag.option_single_bag,
    "blue_fire_arrows":                                 BlueFireArrows.option_true,
    "sunlight_arrows":                                  SunlightArrows.option_true,
    "starting_age":                                     "random",
    "small_key_shuffle":                                SmallKeyShuffle.option_anywhere,
    "boss_key_shuffle":                                 BossKeyShuffle.option_anywhere
}

# Missing ER
# Missing Starting Health at 1 heart
hell_mode_options = {
    "kakariko_gate":                                    KakarikoGate.option_open,
    "door_of_time":                                     DoorOfTime.option_open,
    "lock_overworld_doors":                             LockOverworldDoors.option_true,
    "rainbow_bridge":                                   RainbowBridge.option_greg,
    "shuffle_songs":                                    ShuffleSongs.option_dungeon_rewards,
    "shuffle_skull_tokens":                             ShuffleTokens.option_all,
    "shuffle_kokiri_sword":                             ShuffleKokiriSword.option_true,
    "shuffle_master_sword":                             ShuffleMasterSword.option_true,
    "shuffle_childs_wallet":                            ShuffleChildsWallet.option_true,
    "shuffle_tycoon_wallet":                            ShuffleTycoonWallet.option_true,
    "shuffle_ocarinas":                                 ShuffleOcarinas.option_true,
    "shuffle_ocarina_buttons":                          ShuffleOcarinaButtons.option_true,
    "shuffle_swim":                                     ShuffleSwim.option_true,
    "shuffle_weird_egg":                                ShuffleWeirdEgg.option_true,
    "shuffle_gerudo_membership_card":                   ShuffleGerudoMembershipCard.option_true,
    "shuffle_fishing_pole":                             ShuffleFishingPole.option_true,
    "shuffle_deku_stick_bag":                           ShuffleDekuStickBag.option_true,
    "shuffle_deku_nut_bag":                             ShuffleDekuNutBag.option_true,
    "shuffle_freestanding_items":                       ShuffleFreestandingItems.option_all,
    "shuffle_shops":                                    ShuffleShops.option_true,
    "shuffle_shops_item_amount":                        7,
    "shuffle_shops_minimum_price":                      0,
    "shuffle_shops_maximum_price":                      300,
    "shuffle_fish":                                     ShuffleFish.option_all,
    "shuffle_scrubs":                                   ShuffleScrubs.option_all,
    "shuffle_scrubs_minimum_price":                     0,
    "shuffle_scrubs_maximum_price":                     300,
    "shuffle_beehives":                                 ShuffleBeehives.option_true,
    "shuffle_cows":                                     ShuffleCows.option_true,
    "shuffle_pots":                                     ShufflePots.option_all,
    "shuffle_crates":                                   ShuffleCrates.option_all,
    "shuffle_trees":                                    ShuffleTrees.option_false,
    "shuffle_merchants":                                ShuffleMerchants.option_all,
    "shuffle_frog_song_rupees":                         ShuffleFrogSongRupees.option_true,
    "shuffle_adult_trade_items":                        ShuffleAdultTradeItems.option_true,
    "shuffle_boss_souls":                               ShuffleBossSouls.option_on_plus_ganons,
    "shuffle_fountain_fairies":                         ShuffleFountainFairies.option_true,
    "shuffle_stone_fairies":                            ShuffleStoneFairies.option_true,
    "shuffle_bean_fairies":                             ShuffleBeanFairies.option_true,
    "shuffle_song_fairies":                             ShuffleSongFairies.option_true,
    "shuffle_grass":                                    ShuffleGrass.option_all,
    "shuffle_dungeon_rewards":                          ShuffleDungeonRewards.option_dungeons,
    "maps_and_compasses":                               MapsAndCompasses.option_anywhere,
    "ganons_castle_boss_key":                           GanonsCastleBossKey.option_lacs_dungeon_rewards,
    "ganons_castle_boss_key_stones_required":           GanonsCastleBossKeyStonesRequired.default,
    "ganons_castle_boss_key_medallions_required":       GanonsCastleBossKeyMedallionsRequired.default,
    # TODO When this option is fixed it should be 10 instead of 9. Greg should be counted as a required reward in logic
    "ganons_castle_boss_key_dungeon_rewards_required":  9,
    "ganons_castle_boss_key_greg_modifier":             GanonsCastleBossKeyGregModifier.option_reward,
    "big_poe_target_count":                             1,
    "skip_epona_race":                                  SkipEponaRace.option_true,
    "bombchu_bag":                                      BombchuBag.option_single_bag,
    "blue_fire_arrows":                                 BlueFireArrows.option_true,
    "sunlight_arrows":                                  SunlightArrows.option_true,
    "starting_age":                                     "random",
    "shuffle_100_gs_reward":                            Shuffle100GSReward.option_true,
    "small_key_shuffle":                                SmallKeyShuffle.option_anywhere,
    "gerudo_fortress_key_shuffle":                      GerudoFortressKeyShuffle.option_anywhere,
    "boss_key_shuffle":                                 BossKeyShuffle.option_anywhere
}

oot_soh_options_presets: dict[str, dict[str, Any]] = {
    "Ship Default": default_options,
    "Ship Beginner": default_options | beginner_options,
    "Ship Standard": default_options | standard_options,
    "Ship Advanced": default_options | advanced_options,
    "Ship Hell Mode": default_options | hell_mode_options
}
